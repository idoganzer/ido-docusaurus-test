---
title: CLI Intro - adding a command
---

<div align="center">    <br/>    <div>DOC</div>    <h1>CLI Intro - adding a command</h1>    <br/>  </div>

### Files Used:
ðŸ“„ src/cli/cli-parser.ts

ðŸ“„ src/cli/commands/index.ts

ðŸ“„ src/cli/commands/status.ts


<br/>

Our CLI is where a lot of Swimm's magic happens - it allows the Swimmers to `play` a Unit, see hints, run tests and so on.

We use `commander` library to implement the generic CLI logic. In this Unit you will see how we use it to add a very simple command - `swimm status`, that is mainly used for debugging.

<br/>

Here, we define a new command inside `cli-parser.ts`. Don't worry about the `commandWrapper` part for now - we will get to it in another Unit.

<div>    ðŸ“„ src/cli/cli-parser.ts  </div>

```ts
â¬œ 46         );
â¬œ 47       });
â¬œ 48     
ðŸŸ© 49     program
ðŸŸ© 50       .command('status')
ðŸŸ© 51       .description('See the global state status')
ðŸŸ© 52       .action(async () => {
ðŸŸ© 53         await commandWrapper({ commandExecFunction: commands.status, assertState: false, shouldUpdateCwd: false })();
ðŸŸ© 54       });
â¬œ 55     
â¬œ 56     program
â¬œ 57       .command('coverage')
```
<br/>

In addition, every new command has to be added to `index.ts`, where we point to its corresponding file

<div>    ðŸ“„ src/cli/commands/index.ts  </div>

```ts
â¬œ 3      export { reset } from './reset';
â¬œ 4      export { start } from './start';
â¬œ 5      export { hint } from './hint';
ðŸŸ© 6      export { status } from './status';
â¬œ 7      export { solution } from './solution';
â¬œ 8      export { test } from './test';
â¬œ 9      export { create } from './create';
```
<br/>

Every command has a corresponding file within `cli/commands`. This specific command is super-simple, so its implementation isn't so interesting.

<div>    ðŸ“„ src/cli/commands/status.ts  </div>

```ts
ðŸŸ© 1      import state from '../utils/cli-local-state';
ðŸŸ© 2      import * as pprint from 'Shared/pprint';
ðŸŸ© 3      import { SUCCESS_RETURN_CODE, locations } from 'Shared/config';
ðŸŸ© 4      
ðŸŸ© 5      export async function status() {
ðŸŸ© 6        pprint.out(pprint.colors.yellow('\n-=-=-=-=-=-=-=-=-'));
ðŸŸ© 7        pprint.out(pprint.colors.green('*** Swimm Status ***'));
ðŸŸ© 8        pprint.out(pprint.colors.yellow('-=-=-=-=-=-=-=-=-'));
ðŸŸ© 9        pprint.out(pprint.colors.magenta(`state file path: ${locations.STATE_FILE}\n`));
ðŸŸ© 10       pprint.out(state.internalState.store);
ðŸŸ© 11       return SUCCESS_RETURN_CODE;
ðŸŸ© 12     }
```
<br/>

In this Unit we learned how to add a command. On the next one - you will get your hands dirty and extend an existing command.

<br/>

<br/><br/>

This file was generated by Swimm. [Click here to view it in the app](https://swimm.io/link?l=c3dpbW0lM0ElMkYlMkZyZXBvcyUyRnZlZXp2eEN1enBQclJMTFhXRDJFJTJGZG9jcyUyRmJvZk5oMm1mUFhBU1laTTJ3b3NZ). Timestamp: 2021-04-24T18:52:02.246Z
